var A=({x:e,y:t},{x:r,y:n})=>Math.sqrt((r-e)**2+(n-t)**2),V={fromRectWithPercentInnerRadius(e,t){let{x:r,y:n,width:s,height:o}=e,a=Math.min(s,o)/2,l=t*.01*a,c={x:r+s/2,y:n+o/2};return{innerRadiusPerc:t,radius:a,innerRadius:l,center:c}},fromRectWithInnerRadius(e,t){let{x:r,y:n,width:s,height:o}=e,a=Math.min(s,o)/2,l=t*100/a,c={x:r+s/2,y:n+o/2};return{innerRadiusPerc:l,radius:a,innerRadius:t,center:c}}};var f=new WeakMap,T=new ResizeObserver(e=>{let t=new Set(e.map(r=>r.target));for(let r of t){let n=r.getRootNode();if(!(n instanceof ShadowRoot))continue;let s=n.host;if(!(s instanceof HTMLElement))continue;let o=f.get(s);o&&o.forEach(a=>{let l=getComputedStyle(s),c=w(l.getPropertyValue(a.customPropertyName));if(a.currentPropertyValue!==c){let d={target:s,previousValue:a.currentPropertyValue,value:c};a.currentPropertyValue=c,a.handler(d)}})}}),L=e=>`css-watch-observer__${e}`,W=e=>`${L(e)}--target`,$={};function ee(e){if(!$[e]){let t=document.createElement("template"),r=L(e),n=W(e);t.innerHTML=`<style class="${r}">.${n} {visibility:hidden;position:absolute;pointer-events:none}.${n}::before {content:var(${e})}</style><span class="${r} ${n}"></span>`,$[e]=t}return $[e]}function N(e,t){let r=ee(e),n=L(e),s=W(e);return{observe:o=>{let a=f.get(o)||[];if(a.filter(c=>c.customPropertyName===e).length<=0){o.shadowRoot?.append(document.importNode(r.content,!0));let c=o.shadowRoot?.querySelector(`.${s}`);c&&T.observe(c)}f.set(o,[...a,{currentPropertyValue:w(getComputedStyle(o).getPropertyValue(e)),handler:t,customPropertyName:e}])},unobserve:o=>{let l=(f.get(o)||[]).filter(d=>d.handler!==t||d.customPropertyName!==e);if(l.filter(d=>d.customPropertyName===e).length<=0){let d=o.shadowRoot?.querySelector(`.${s}`);d&&T.unobserve(d),o.shadowRoot?.querySelectorAll(`.${n}`).forEach(x=>x.remove())}f.set(o,l)}}}var te=/^["'](.+(?=["']$))["']$/;function w(e){return typeof e!="string"?"":e.trim().replace(te,"$1")}var H="<div class=container><div class=color-wheel-container><div class=inner-radius-calc></div><div class=color-wheel></div><div class=slider-container><div class=slider-track></div><div class=slider-container-half><div class=slider role=slider></div></div></div></div></div>";var q=`:host{color-scheme:only light;display:inline-flex;justify-content:center;align-items:center;--inner-radius: var(--color-wheel-inner-radius, 60%);--radius: 5cm;min-height:calc(2 * var(--radius) + 2* var(--thumb-radius) + 12px);--thumb-radius: var(--color-wheel-thumb-radius-mobile, var(--color-wheel-thumb-radius, .6cm));--hue: 0;--value: 100;--lightness: 50;--saturation: 100;--default-ui-mode: "desktop" }:host([rotate-wheel]){--ui-mode: "mobile" }@media only screen and (min-device-width : 320px) and (max-device-width : 480px){:host{--default-ui-mode: "mobile" }}.container{position:relative;display:inline-block;overflow:hidden;width:100%;height:100%;box-sizing:border-box;padding:calc(var(--thumb-radius) + 6px)}.container--desktop-ui{--inner-radius: var(--color-wheel-inner-radius, .1%);--thumb-radius: var(--color-wheel-thumb-radius-desktop, var(--color-wheel-thumb-radius, .5cm))}.color-wheel-container{width:100%;height:100%;min-height:calc(2 * var(--radius));min-width:calc(2 * var(--radius));display:inline-block;position:relative}.color-wheel,.slider-container{position:absolute;inset:0}.color-wheel{--l-color: calc(var(--value) * .5%);--center-l-color: calc(var(--value) * 1%);pointer-events:auto;display:inline-block;touch-action:none;border-radius:50%;background:radial-gradient(circle closest-side at center,hsl(0 0% var(--center-l-color)) var(--inner-radius),transparent 100%),conic-gradient(hsl(360 100% var(--l-color)),hsl(345 100% var(--l-color)),hsl(330 100% var(--l-color)),hsl(315 100% var(--l-color)),hsl(300 100% var(--l-color)),hsl(285 100% var(--l-color)),hsl(270 100% var(--l-color)),hsl(255 100% var(--l-color)),hsl(240 100% var(--l-color)),hsl(225 100% var(--l-color)),hsl(210 100% var(--l-color)),hsl(195 100% var(--l-color)),hsl(180 100% var(--l-color)),hsl(150 100% var(--l-color)),hsl(135 100% var(--l-color)),hsl(120 100% var(--l-color)),hsl(105 100% var(--l-color)),hsl(90 100% var(--l-color)),hsl(60 100% var(--l-color)),hsl(45 100% var(--l-color)),hsl(30 100% var(--l-color)),hsl(15 100% var(--l-color)),hsl(0 100% var(--l-color)));mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%);-webkit-mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%);transform-origin:center}.container--hsl .color-wheel{--l-color: calc(var(--lightness) * 1%);--center-l-color: calc(var(--lightness) * 1%)}.container--mobile-ui .color-wheel{transform:rotate(calc(var(--hue) * 1deg))}.slider-container{pointer-events:none;position:absolute;aspect-ratio:1 / 1;height:100%;top:50%;left:50%;min-height:calc(2 * var(--radius));min-width:calc(2 * var(--radius));transform:translate(-50%,-50%) rotate(calc(var(--hue) * -1deg - 90deg))}.slider-container-half{position:absolute;inset:0 0 0 50%}.slider{pointer-events:none;touch-action:none;position:absolute;top:50%;width:calc(2 * var(--thumb-radius));height:calc(2 * var(--thumb-radius));background:hsl(var(--hue),calc(var(--saturation) * 1%),calc((100% - var(--saturation) * .5%) * var(--value) / 100));border:4px solid #888;border-radius:50%;cursor:pointer;transform:translate(-50%,-50%);left:calc(var(--inner-radius) + (1% * var(--saturation)) - (var(--saturation) * var(--inner-radius) / 100))}.container--hsl .slider{background:hsl(var(--hue),calc(var(--saturation) * 1%),calc(var(--lightness, 50) * 1%))}.inner-radius-calc{visibility:position;z-index:-1;height:1px;pointer-events:none;touch-action:none;width:var(--inner-radius)}.slider-track{display:none;pointer-events:none}.slider:before{display:block;position:absolute;inset:-3px;background:transparent;border-radius:50%;border:2px solid #ffffff;content:" ";pointer-events:none;touch-action:none}.container--mobile-ui .slider-container{transform:translate(-50%,-50%) rotate(-90deg)}.container--mobile-ui .slider-track{position:absolute;inset:0;display:inline;z-index:-1;overflow:hidden;mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%);-webkit-mask-image:radial-gradient(circle closest-side at center,transparent calc(var(--inner-radius) - 1px),white var(--inner-radius),white calc(100% - 1px),transparent 100%)}.container--mobile-ui .slider-track:after{content:" ";position:absolute;inset:calc(50% - 2px) -10px calc(50% - 2px) 50%;border:1px solid black}.container--mobile-ui .slider{pointer-events:auto}
`;var U=()=>{let e=document.createElement("template");return e.innerHTML=H,U=()=>e,e},F=()=>{let e=new CSSStyleSheet;return e.replaceSync(q),F=()=>e,e},re=N("--ui-mode",({target:e})=>e instanceof y&&D(e)),ne=N("--default-ui-mode",({target:e})=>e instanceof y&&D(e)),j=(e,t)=>{if(!e)throw new Error(`Color-wheel: Error from shadowDOM: parent node is ${e}`);let r=e.querySelector(t);if(!r||!(r instanceof HTMLElement))throw new Error(`Color-wheel: Error from shadowDOM: html element "${t}" not found`);return r},y=class extends HTMLElement{constructor(){super();let t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[F()];let r=U();t.append(document.importNode(r.content,!0));let n=j.bind(null,t),s=n(".color-wheel-container"),o=n(".inner-radius-calc"),a=n(".color-wheel"),l=n(".slider");if(!s||!o)throw new Error('Error loading Color-wheel: ".color-wheel-container", ".inner-radius-calc", ".color-wheel" or  not found');let c=window.getComputedStyle(a);re.observe(this),ne.observe(this),D(this),z(this),Y(this);let d=()=>{let i=s.getBoundingClientRect(),v=c.transformOrigin.split(" "),h=i.top+parseInt(v[1]);return{x:i.left+parseInt(v[0]),y:h}},x=()=>{let i=s.getBoundingClientRect(),u=c.getPropertyValue("--inner-radius").trim();if(/[0-9]+%/g.test(u)){let h=parseFloat(u);return V.fromRectWithPercentInnerRadius(i,h)}let v=o.getBoundingClientRect().width;return V.fromRectWithInnerRadius(i,v)},k=i=>{let u=this.ownerDocument.defaultView;if(!u)return;let v=h=>{h.preventDefault(),h.stopPropagation(),i(h)};u.addEventListener("pointermove",v,{capture:!0}),u.addEventListener("pointerup",()=>{u.removeEventListener("pointermove",v,{capture:!0})},{once:!0,capture:!0})},Q=()=>{let i=d(),u=x();k(h=>{let m={x:i.x,y:Math.min(i.y,h.clientY)},E=B(u,m);this.saturation=E;let I=new CustomEvent("input",{bubbles:!0});this.dispatchEvent(I)})},J=i=>{let u=d(),v=x(),{hue:h}=this,m=g=>{let p=g.clientX-u.x,b=u.y-g.clientY;return Math.atan2(b,p)*-180/Math.PI},E=m(i);if((this.uiMode||"").trim()==="mobile")k(p=>{let b=m(p),S=Math.round(b-E+h+360)%360;this.hue=S;let O=new CustomEvent("input",{bubbles:!0});this.dispatchEvent(O)});else{let g=p=>{let b=m(p),S=Math.round(-b+360*2-90)%360;this.hue=S;let O={x:p.clientX,y:p.clientY},K=B(v,O);this.saturation=K;let Z=new CustomEvent("input",{bubbles:!0});this.dispatchEvent(Z)};g(i),k(g)}};a.addEventListener("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),J(i)}),l.addEventListener("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),Q()}),X(this),_(this)}static get observedAttributes(){return["saturation","hue","lightness","value"]}attributeChangedCallback(t,r,n){if(r!==n)switch(t){case"saturation":_(this);return;case"hue":X(this);return;case"lightness":z(this);return;case"value":Y(this)}}get uiMode(){let t=getComputedStyle(R(this)),r=w(t.getPropertyValue("--ui-mode"));switch(r){case"desktop":case"mobile":return r}return w(t.getPropertyValue("--default-ui-mode"))}get hue(){return C(this,"hue",0)}set hue(t){this.setAttribute("hue",String(t))}get saturation(){return C(this,"saturation",0)}set saturation(t){this.setAttribute("saturation",String(t))}get value(){return C(this,"value",100)}set value(t){this.setAttribute("value",String(t))}get lightness(){return C(this,"lightness",50)}set lightness(t){this.setAttribute("lightness",String(t))}};function B(e,t){let{center:r,radius:n,innerRadiusPerc:s}=e,o=A(r,t),l=(Math.min(100,Math.max(0,o*100/n))-s)*100/(100-s);return Math.round(Math.min(100,Math.max(0,l)))}function C(e,t,r){let n=e.getAttribute(t);if(!n)return r;let s=parseInt(n);return isNaN(s)?r:s}var R=e=>j(e.shadowRoot,".container"),P=(e,t,r)=>{R(e).style.setProperty(t,String(r))};function D(e){let t=R(e),{uiMode:r}=e;t.classList.toggle("container--desktop-ui",r==="desktop"),t.classList.toggle("container--mobile-ui",r==="mobile")}function G(e){let t=R(e);if(!t)return;let r=e.hasAttribute("lightness")&&!e.hasAttribute("value");t.classList.toggle("container--hsl",r)}var X=e=>{P(e,"--hue",e.hue)},_=e=>{P(e,"--saturation",e.saturation)},z=e=>{G(e),P(e,"--lightness",e.lightness)},Y=e=>{G(e),P(e,"--value",e.value)},oe=new URL(import.meta.url),M=oe.searchParams.get("named");M&&(customElements.get(M)!=null?console.error(`A custom element with name "${M}" already exists`):customElements.define(M,y));
//# sourceMappingURL=color-wheel.element.min.js.map
